@model QuanLyNhanSu.Models.SalaryModel

@{
    var bonuses = ViewData["Bonuses"] as IEnumerable<QuanLyNhanSu.Models.BonusModel>;
    var deductions = ViewData["Deductions"] as IEnumerable<QuanLyNhanSu.Models.DeductionModel>;
}

<h1>Xem Chi Tiết Lương</h1>

<div>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Salary_Id)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Salary_Id)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Employee_Id)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Employee_Id)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Begin_Date)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Begin_Date)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.End_Date)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.End_Date)
        </dd>
    </dl>
</div>
<div>
    <h5>Tiền lương cơ bản: @Html.DisplayFor(model => model.Base_Salary)</h5>
    <h5>Thưởng: @Html.DisplayFor(model => model.Bonus)</h5>
    <ul>
        @if (bonuses != null)
        {
            foreach (var bonus in bonuses)
            {
                <li>
                    <p>Tiền thưởng: @bonus.Bonus_Amount.ToString("C")</p>
                    <p>Ngày thưởng: @bonus.Bonus_Date</p>
                </li>
            }
        }
    </ul>
    <h5>Khấu trừ: @Html.DisplayFor(model => model.Deduction)</h5>
    <ul>
        @if(deductions != null)
        {
            foreach (var deduction in deductions)
            {
                <li>
                    <p>Tiền khấu trừ: @deduction.Deduction_Amount.ToString("C")</p>
                    <p>Ngày khấu trừ: @deduction.Deduction_Date</p>
                </li>
            }
        }
    </ul>
    <h5>Số ngày đi làm: @ViewData["WorkingDays"] ngày.</h5>
    <h5>Lương của @ViewData["WorkingDays"] ngày làm: @ViewData["AmountWorkingDays"]</h5>
    <h5>Tổng tiền lương: @Html.DisplayFor(model => model.Total_Salary)</h5>
</div>
<div>
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    @if(TempData["SuccessMessage"] != null)
    {
        <p class="alert alert-success">@TempData["SuccessMessage"]</p>
    }
    <form asp-action="CapNhatLuongNhanSu" method="post">
        <button type="submit" class="btn btn-success">Cập nhật</button>
    </form>
    <a asp-action="Index">Back to List</a>
</div>
